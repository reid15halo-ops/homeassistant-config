# WireGuard Client-Konfiguration: Laptop (Windows/Mac/Linux)
#
# ANLEITUNG:
# 1. Ersetze alle Platzhalter (< >) mit deinen tatsächlichen Werten
# 2. Speichere die Datei als "client-laptop.conf"
# 3. Importiere in WireGuard App:
#    - Windows: WireGuard → "Import tunnel(s) from file"
#    - Mac: WireGuard → "Import tunnel from file"
#    - Linux: sudo cp client-laptop.conf /etc/wireguard/wg0.conf && sudo systemctl enable wg-quick@wg0

[Interface]
# Private Key dieses Clients
PrivateKey = <CLIENT_PRIVATE_KEY>

# VPN-IP-Adresse (Laptop = .3, andere IPs für weitere Geräte)
Address = 10.10.10.3/24

# DNS-Server
DNS = 192.168.178.1


[Peer]
# Public Key des VPN-Servers
PublicKey = <SERVER_PUBLIC_KEY>

# Server-Adresse (DynDNS oder feste IP)
Endpoint = <DEINE_DYNDNS_DOMAIN>:51820

# Split-Tunnel: Nur Heimnetzwerk über VPN
AllowedIPs = 192.168.178.0/24, 10.10.10.0/24

# Keepalive
PersistentKeepalive = 25


# ============================================================================
# VERWENDUNG AUF VERSCHIEDENEN BETRIEBSSYSTEMEN
# ============================================================================

# WINDOWS:
# --------
# 1. WireGuard für Windows herunterladen:
#    https://download.wireguard.com/windows-client/wireguard-installer.exe
# 2. Installieren und starten
# 3. "Import tunnel(s) from file" → diese Datei auswählen
# 4. "Activate" klicken
# 5. Testen: http://192.168.178.71:8123
#
# Autostart:
# - Rechtsklick auf Tunnel → "Allow automatic connection"
#

# MACOS:
# ------
# 1. WireGuard aus dem App Store installieren
# 2. App öffnen → "Import tunnel from file"
# 3. Diese Datei auswählen
# 4. Tunnel aktivieren
#
# Autostart:
# - System Preferences → General → Login Items → WireGuard hinzufügen
#

# LINUX:
# ------
# 1. WireGuard installieren:
#    sudo apt install wireguard
#
# 2. Config kopieren:
#    sudo cp client-laptop.conf /etc/wireguard/wg0.conf
#    sudo chmod 600 /etc/wireguard/wg0.conf
#
# 3. Aktivieren:
#    sudo systemctl enable wg-quick@wg0
#    sudo systemctl start wg-quick@wg0
#
# 4. Status prüfen:
#    sudo wg show
#
# Autostart:
# - Durch systemctl enable bereits aktiviert
#

# ============================================================================
# TROUBLESHOOTING
# ============================================================================

# Problem: "Unable to connect"
# Lösung:
# - Prüfe ob DynDNS-Domain korrekt ist
# - Prüfe Fritz!Box Port-Forwarding (UDP 51820)
# - Firewall auf Laptop prüfen

# Problem: "Tunnel aktiviert, aber kein Zugriff auf Heimnetzwerk"
# Lösung:
# - DNS prüfen: nslookup homeassistant.local 192.168.178.1
# - Routing prüfen: traceroute 192.168.178.71
# - Server-Status prüfen (siehe Quick Reference)

# Problem: "Langsame Verbindung"
# Lösung:
# - MTU anpassen: Füge unter [Interface] hinzu: MTU = 1420
# - Server-Performance prüfen (CPU/RAM auf Gateway-Pi)
# - Andere Server-Location testen (falls Mullvad)

# ============================================================================

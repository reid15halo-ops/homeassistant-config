# WireGuard Client-Konfiguration: Handy (Android/iOS)
#
# ANLEITUNG:
# 1. Ersetze alle Platzhalter (< >) mit deinen tatsächlichen Werten
# 2. Speichere die Datei ohne "-TEMPLATE" im Namen
# 3. QR-Code generieren: qrencode -t ansiutf8 < client-handy.conf
# 4. In WireGuard App scannen
#
# WICHTIG: Private Key und Server Public Key von deinem Setup verwenden!

[Interface]
# Private Key dieses Clients (generiert mit: wg genkey)
PrivateKey = <CLIENT_PRIVATE_KEY>

# VPN-IP-Adresse dieses Clients (eindeutig pro Client)
# Handy = .2, Laptop = .3, Tablet = .4, etc.
Address = 10.10.10.2/24

# DNS-Server (Fritz!Box für lokale Namensauflösung)
DNS = 192.168.178.1


[Peer]
# Public Key des VPN-Servers (vom Gateway Raspberry Pi)
PublicKey = <SERVER_PUBLIC_KEY>

# Deine öffentliche IP oder DynDNS-Domain + Port
# Beispiel: meinzuhause.myfritz.net:51820
Endpoint = <DEINE_DYNDNS_DOMAIN>:51820

# Welcher Traffic über VPN geleitet wird:
# - 192.168.178.0/24 = Dein Heimnetzwerk
# - 10.10.10.0/24 = VPN-Netzwerk
#
# SPLIT-TUNNEL: Nur Heimnetzwerk-Zugriff über VPN, Rest normal
# FULL-TUNNEL: Ersetze mit "0.0.0.0/0" für allen Traffic über VPN
AllowedIPs = 192.168.178.0/24, 10.10.10.0/24

# Keepalive (hält NAT-Verbindung offen, wichtig für Mobile-Daten)
PersistentKeepalive = 25


# ============================================================================
# VERWENDUNGSHINWEISE
# ============================================================================
#
# Wann verwenden:
# - Unterwegs auf Heimnetzwerk zugreifen (Home Assistant, NAS, etc.)
# - Mobile-Daten ODER fremdes WiFi
# - Sicherer Fernzugriff
#
# Wichtig:
# - Im Heimnetzwerk VPN DEAKTIVIEREN (sonst doppelter Tunnel)
# - Bei Problemen: VPN aus/an schalten
# - Batterieeinfluss minimal (~1-2% pro Stunde)
#
# Testen:
# 1. Mobile-Daten aktivieren, WiFi aus
# 2. VPN aktivieren
# 3. Browser: http://192.168.178.71:8123 (Home Assistant)
# 4. Sollte laden = Funktioniert!
#
# ============================================================================

# BEISPIEL-WERTE (ZUM TESTEN):
#
# [Interface]
# PrivateKey = aB3xY9mN2pQ5rT8wK1jC4vL7nH0sD6fG9iE2oU5yA8=
# Address = 10.10.10.2/24
# DNS = 192.168.178.1
#
# [Peer]
# PublicKey = xY7mN3pQ9rT2wK5jC8vL1nH4sD0fG6iE9oU2yA5bC8=
# Endpoint = meinheim.myfritz.net:51820
# AllowedIPs = 192.168.178.0/24, 10.10.10.0/24
# PersistentKeepalive = 25
